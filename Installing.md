# Contents 

[Installation Options](#installation-options)

* [Package Manager Installation](#package-manager-installation)

  * [Debian and Derivatives](#debian-and-derivatives)
  * [Arch](#arch)
  * [Gentoo](#gentoo)
  
* [`pip` Installation](#pip-installation)

[Running AutoKey](#running-autokey)

# Installation Options

There are two versions of the Python3-based AutoKey

* `autokey-gtk` - for systems using a GTK-based desktop environment such as GNOME, MATE, Ubuntu Unity, etc.
* `autokey-qt` - for systems using a Qt-based desktop environment such as KDE Plasma, Lumina, etc.

AutoKey can be most easily installed using one of these two methods:

* package manager
* [`pip`][pip]

**NOTE:** Remove existing AutoKey installation before attempting these steps.

## Removing Existing AutoKey

1. Quit Autokey - verify the AutoKey icon is not present in your system tray
1. Backup your `~/.config/autokey` directory if you wish to save existing scripts and phrases. These files are not touched normally, but upgrading AutoKey may alter the script or phrase configuration in non-backwards-compatible ways, thus may make reverting to the previous installation impossible.
1. Uninstall the existing AutoKey

# Package Manager Installation

## Debian and Derivatives

This section applies to Debian and derivatives such as Ubuntu and Mint. These steps assume that you have Python version 3.5 or higher.

AutoKey releases are available [at the GitHub releases page, here](https://github.com/autokey/autokey/releases/).

Either use the supplied Debian packages attached to the GitHub release, or build your own Debian packages.

Using the pre-built packages:\
Chose the GUI you want and then download the `autokey-common_VERSION_all.deb` package plus the chosen frontend package (`autokey-gtk_VERSION_all.deb` or `autokey-qt_VERSION_all.deb`) to a directory on your system.

Building your own packages is described here: https://github.com/autokey/autokey/wiki/Packaging

Change into the directory containing the packages (in a terminal) then,

to install the packages on a Debian-based system, use the following:

    sudo dpkg --install autokey-common_VERSION_all.deb autokey-gtk_VERSION_all.deb
    sudo apt install --fix-missing

(In the above command, substitute `VERSION` with the version you downloaded, for example `autokey-common_0.95.7-0_all.deb`.)

Both the `-common` and GUI package need to be installed at the same time and `dpkg` will get it right while `apt` might not.
If you prefer to use the QT front end, you can download and install that instead of (or in addition to) the GTK GUI.
The second command will take care to install all dependencies from the official repositories.

Since AutoKey is a Python3 application, it is largely independent of particular distribution releases and should work on most relatively current distributions. It is fine, as long as apt can resolve the dependencies.

## Arch Linux

Up to date packages are available in the Arch User Repository ([AUR package][aur]). It supports both the GTK and Qt GUI, but make sure to install the optional dependencies for the GUI you want.
It seems that the AUR package specifies some run-time dependencies (programs used in certain API calls, like kdialog) as optional dependencies, so check the program log for errors caused by missing programs, when API calls fail.

If you wish to manually install AutoKey, use the dependencies specified in the AUR as a reference, for what has to be installed.

# `pip` Installation

If you are using a distribution other than those listed above or if you want to install AutoKey from GitHub you can use this [`pip`][pip] installation method.

This assumes you have Python version 3.5 or higher installed.

If `git` is not already installed, optionally [install git][installgit] to directly install from GitHub. Alternatively, you can perform the install from a snapshot archive, generated by GitHub. You can download such a ZIP archive containing the source code from the [GitHub release page](https://github.com/autokey/autokey/releases). Click on a release, then download one of the `Source code` archives and unpack it.

If the Python3 version of `pip` is not already installed, install `pip` using these [instructions][installpip].

The following Python3 dependencies need to be installed. If the install fails, look at your error messages - you might need to manually install one or more of the dependencies. Many dependencies are not specified in `setup.py`, so are not installed automatically.

Installing the dependencies from PyPI may be tricky and break your system in unexpected ways, so prefer to install the dependencies from your Distribution’s package manager where-ever possible. For example, installing `dbus-python` from PyPI will _shadow_ your local `dbus-python` installation (even if installed later by your package manager), _including any plugins present there_. This may break software relying on the presence of those plugins, for example the HPLIP software.

## Dependencies

AutoKey depends on (regardless of the used GUI):

|Package | Homepage | [PyPI (Python Package Index)](https://pypi.org/project/PyGObject/) link| Extra notes |
|---|---|---|---|
| dbus-python |  | https://pypi.org/project/dbus-python/ | Install from your distribution’s repository. because installing from PyPI may break your system. Additionally, installing from PyPi requires a C compiler and the dbus C header files, because it will compile the C libraries locally at installation time. Spare your time and install dbus-python from your distribution’s repository instead. |
| pyinotify | https://github.com/seb-m/pyinotify | https://pypi.org/project/pyinotify/ |  |
| python-xlib | https://github.com/python-xlib/python-xlib | https://pypi.org/project/python-xlib/ |  |
| `wmctrl` CLI tool | http://tripie.sweb.cz/utils/wmctrl/ | not available | used for window manipulation functions available in the Scripting API |

The GTK GUI additionally depends on these packages:

|Package | Homepage | [PyPI (Python Package Index)](https://pypi.org/project/PyGObject/) link | Extra notes |
|---|---|---|---|
| GObject Introspection | https://gi.readthedocs.io/en/latest/index.html | https://pypi.org/project/PyGObject/ |
| GTK (≥ 3.0) |  | Not available | Loaded at runtime from C libraries by `GObjectIntrospection` |
| GtkSourceView | https://wiki.gnome.org/Projects/GtkSourceView | Not available | Loaded at runtime from C libraries by `GObjectIntrospection` |
| libappindicator |  |  |  |
| libdbus-glib-1-dev |  |  |  |
| `zenity` CLI tool | https://wiki.gnome.org/Projects/Zenity | Not available | this is used for the dialogue windows available in the Scripting API |

The Qt5-based GUI additionally depends on:

|Package | Homepage | [PyPI (Python Package Index)](https://pypi.org/project/PyGObject/) link| Extra notes |
|---|---|---|---|
| PyQt5 | https://www.riverbankcomputing.com/software/pyqt/intro | https://pypi.org/project/PyQt5/ | Prefer installing from your distribution. Check, if your installation source provides the _full_ PyQt5 package. Some sources, notably the Ubuntu repository have the package split up into multiple modules. If so, you need the following additional modules.|
| PyQt5 SVG module, if not bundled with the base installation |  | included in PyQt5 from PyPi | If you installed from the Ubuntu repositories, you additionally need `python3-pyqt5.qtsvg` |
| PyQt5-QScintilla2 module, if not bundled with the base installation |  | included in PyQt5 from PyPi | If you installed from the Ubuntu repositories, you additionally need `python3-pyqt5.qsci` |
| `kdialog` CLI tool | https://github.com/KDE/kdialog | Not available | this is used for the dialogue windows available in the Scripting API |
| `pyrcc5` CLI tool | | not available | Installation-time/build-time only optional, but recommended dependency. |

### Installing Dependencies for Debian

    # Needed for both GUIs:
    sudo apt install python3-dbus python3-xlib python3-pyinotify wmctrl
    # Needed for autokey-gtk:
    sudo apt install python3-gi gir1.2-gtk-3.0 gir1.2-gtksource-3.0 gir1.2-appindicator3-0.1 gir1.2-glib-2.0 gir1.2-notify-0.7 zenity
    # Needed for autokey-qt:
    sudo apt install python3-pyqt5 python3-pyqt5.qsci python3-pyqt5.qtsvg kdialog
    # Recommended installation-time/build-time dependency, if installing using pip3 or prior to self-building Debian packages
    sudo apt install pyqt5-dev-tools

### Installing Dependencies for Arch Linux
The AUR package lists all packages needed with their respective Arch-specific names:
https://aur.archlinux.org/packages/autokey

### Installing Dependencies from PyPI
TODO.

(Checkout the PyPI links from the tables above.)

### Installing AutoKey
Install AutoKey from the [AutoKey GitHub repository][autorepo] for your user only:

    # Install git master. Should be stable and include additional bug fixes. If in doubt, use a specific release instead
    $ pip3 install --user git+https://github.com/autokey/autokey
    # Install a specific release: Replace the version with the latest release.
    $ pip3 install --user https://github.com/autokey/autokey/archive/v0.95.7.zip
    # Or install from a local copy (git checkout or extracted release ZIP archive):
    $ pip3 install --user /replace/with/path/to/extracted/autokey/release
    
AutoKey will be located in your user directory: `~/.local/bin/autokey`

If you run pip3 as root and omit the `--user` switch, AutoKey will be installed globally
  
## Running AutoKey

In order to run AutoKey, the installation directory must be added to your PATH shell environment variable. If you installed AutoKey with a package manager or via pip3 as root, the launcher is placed in your PATH automatically. Note: the installation directory will vary based on which distribution you are using. For example, on Ubuntu 16.04 it is `/usr/bin/autokey`.

You can run AutoKey by using your distribution's application launcher. For example, on Ubuntu, just click on the super-key and type `autokey`. You should see the AutoKey _`A`_ icon in your taskbar. You can right-click on the "A" icon to see some menu choices and to quit AutoKey.

If you installed AutoKey using `pip` with the `--user` flag or if the installation directory was not added to your `PATH`, you can set this temporarily (will revert at next login):

    $ PATH="$HOME/.local/bin:$PATH"

Or you can add it permanently by following these [directions][path].

Either way, once `$HOME/.local/bin` as used by the pip3 installation method (or whichever installation directory was used) is in your `PATH` you can run AutoKey by executing the applicable command for the version you wish to run:

    $ autokey-gtk
    $ autokey-qt



November 2011
Original author, Keith W. Daniels
Edited by Joseph Pollock, troxor, ersanchez and Thomas Hess

[aur]: https://aur.archlinux.org/packages/autokey-py3
[autorepo]: https://github.com/autokey/autokey
[installgit]: https://git-scm.com/download/linux
[installpip]: https://packaging.python.org/install_requirements_linux/#installing-pip-setuptools-wheel-with-linux-package-managers
[path]: http://stackoverflow.com/questions/14637979/how-to-permanently-set-path-on-linux
[pip]: https://en.wikipedia.org/wiki/Pip_(package_manager)
[ppa]: https://askubuntu.com/a/4990
